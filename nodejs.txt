FROM centos

# 使用阿里云yum源并安装epel源、sudo、vim、nodejs、cnpm
RUN mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup \
	&& curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo \
	&& yum clean all && yum makecache \
	&& yum -y install epel-release sudo vim	\
	&& mv /etc/yum.repos.d/epel.repo /etc/yum.repos.d/epel.repo.backup \
	&& mv /etc/yum.repos.d/epel-testing.repo /etc/yum.repos.d/epel-testing.repo.backup \
	&& curl -o /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo \
	&& curl --silent --location https://rpm.nodesource.com/setup_8.x | sudo bash - \
	&& yum -y install nodejs \
	&& npm install -g cnpm --registry=https://registry.npm.taobao.org

# webServer
# WORKDIR /home/myapp
# RUN npm install express-generator -g \
# 	&& cd .. && express --view=ejs -f myapp \
# 	&& cd myapp && npm --save install
# CMD ["npm", "start"]